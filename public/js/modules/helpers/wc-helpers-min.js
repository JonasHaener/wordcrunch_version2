if(WC_KW instanceof Object===false){var WC_KW={}}if(WC_A instanceof Object===false){var WC_A={}}WC_A.helper={};WC_A.helper.parse_json=function(a){return $.parseJSON(a)};WC_A.helper.trim_string=function(d,a){if(a===false){return d.trim()}if(a===true){var c=d.trim(),b=c.replace(/,(\s+)/g,",");b=b.replace(/\s+/g," ");return b}};WC_A.helper.trim_comas=function(a){return a.replace(/\,+/g,",")};WC_A.helper.prep_table=function(i){var j=Date.now();var f,c,e=i.result,d=i.status,h="";if(d!=="null"&&d!==""){return h+="<tr><td>"+d+"</td></tr>"}for(f=0;f<e.length;f+=1){c=e[f];h+="<tr><td>"+c.id+"</td><td><span>["+c.id+"]</span>"+c.german+"</td><td><span>["+c.id+"]</span>"+c.english+"</td><td><span>["+c.id+"]</span>"+c.french+"</td><td><span>["+c.id+"]</span>"+c.dutch+"</td><td><span>["+c.id+"]</span>"+c.japanese+"</td><td><span>["+c.id+"]</span>"+c.italian+"</td><td><span>["+c.id+"]</span>"+c.spanish+"</td><td>"+c.comments+"</td><td>"+c.updated+"</td></tr>"}e=null;var g=Date.now();console.log("WC_A.helper.prep_table: ",(g-j)+" ms");return h};WC_A.helper.ajax={};WC_A.helper.Ajax=function(a){this.config=a;this.ajx_data=a.data;this.call_type=a.call_type;this.ajx_result="";this.attempts=a.attempts;this.delay=a.delay;this.reset=function(){this.delay=a.delay;this.attempts=a.attempts};this.ajx_call=function(){try{var d=this,b=this.config;$.ajax({type:b.type,url:b.url,data:d.ajx_data,beforeSend:function(){b.beforeSend();b.spinnerAdd()},success:function(f){var g=Date.now();b.success(d.call_type,f);var e=Date.now();console.log("Ajax success: ",(e-g)+" ms")},error:function(f,e){if(d.attempts--===0){b.error();b.spinnerHide();d.reset();return}setTimeout(function(){d.ajx_call()},d.delay*=2)},complete:function(){b.spinnerHide();b.complete()}})}catch(c){}}};WC_A.helper.Ajax_dtl=function(a,b,d){this.model=a.model;this.view=b.view;this.controller=d.controller;this.form_data=this.controller.form_data();this.url=this.model.url;this.delay=1000;this.attempts=3;this.reset=function(){this.delay=1000;this.attempts=3};this.ajx_call=function(){try{var f=this;$.ajax({type:"POST",url:f.url,data:f.form_data,beforeSend:function(){},success:function(e){f.view.update(f.model.control(e))},error:function(g,e){if(f.attempts--===0){f.reset();return}setTimeout(function(){f.ajx_call()},f.delay*=2)},complete:function(){}})}catch(c){}}};